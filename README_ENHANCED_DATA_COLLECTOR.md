# å¢å¼ºç‰ˆAè‚¡æ•°æ®é‡‡é›†ç³»ç»Ÿ

ğŸš€ **ä¸è¾¾ç›®çš„ä¸ç½¢ä¼‘çš„æ™ºèƒ½æ•°æ®é‡‡é›†agent** - ä¸ºAè‚¡äº¤æ˜“ç³»ç»Ÿæä¾›å…¨é¢ã€é«˜è´¨é‡çš„æ•°æ®æ”¯æŒ

## ğŸŒŸ ç³»ç»Ÿç‰¹è‰²

### ğŸ“Š å…¨é¢çš„æ•°æ®æºè¦†ç›–
- **å·¨æ½®ä¿¡æ¯ç½‘** - å®˜æ–¹å…¬å‘Šæ•°æ®æºï¼Œæƒå¨å¯é 
- **æ–°æµªè´¢ç»** - å®æ—¶è´¢ç»æ–°é—»ï¼Œè¦†ç›–é¢å¹¿
- **ä¸œæ–¹è´¢å¯Œç½‘** - ç»¼åˆé‡‘èæ•°æ®ï¼Œæ·±åº¦åˆ†æ
- **ä¸­å›½è¯åˆ¸ç½‘** - æƒå¨è¯åˆ¸èµ„è®¯ï¼Œä¸“ä¸šè§£è¯»
- **æ·±äº¤æ‰€äº’åŠ¨æ˜“** - æŠ•èµ„è€…äº’åŠ¨å¹³å°ï¼Œè·å–ç¬¬ä¸€æ‰‹ä¿¡æ¯
- **ç¬¬ä¸€è´¢ç»** - ä¸“ä¸šè´¢ç»åª’ä½“ï¼Œé«˜è´¨é‡å†…å®¹
- **éŸ­ç ”å…¬ç¤¾** - æŠ•èµ„ç ”ç©¶ç¤¾åŒºï¼Œå¤šå…ƒè§‚ç‚¹

### ğŸ§  æ™ºèƒ½åŒ–ç‰¹æ€§
- **ä¸è¾¾ç›®çš„ä¸ç½¢ä¼‘**: å¤šé‡é‡è¯•æœºåˆ¶ï¼Œç¡®ä¿æ•°æ®è·å–æˆåŠŸ
- **LangChainæ™ºèƒ½å†³ç­–**: åŸºäºLLMçš„æ™ºèƒ½åˆ†æå’Œç­–ç•¥è°ƒæ•´
- **GitHubçˆ¬è™«è‡ªåŠ¨å‘ç°**: è‡ªåŠ¨æœç´¢å’Œé›†æˆå¼€æºçˆ¬è™«å·¥å…·
- **æ•°æ®è´¨é‡æ™ºèƒ½è¯„ä¼°**: è‡ªåŠ¨è¯„ä¼°å’Œç­›é€‰é«˜è´¨é‡æ•°æ®
- **å¤šå¹¶å‘é‡‡é›†**: æ”¯æŒå¤šä»»åŠ¡å¹¶å‘ï¼Œæé«˜é‡‡é›†æ•ˆç‡

### ğŸ—„ï¸ å¥å…¨çš„æ•°æ®ç®¡ç†
- **ç»“æ„åŒ–å­˜å‚¨**: åŸºäºSQLAlchemyçš„ä¸“ä¸šæ•°æ®åº“è®¾è®¡
- **æ•°æ®å»é‡**: æ™ºèƒ½å†…å®¹å“ˆå¸Œï¼Œé¿å…é‡å¤æ•°æ®
- **è´¨é‡åˆ†çº§**: äº”çº§è´¨é‡è¯„ä¼°ä½“ç³»
- **å…³é”®è¯æå–**: è‡ªåŠ¨æå–å’Œæ ‡è®°å…³é”®ä¿¡æ¯
- **æ•°æ®å¯¼å‡º**: æ”¯æŒExcelç­‰å¤šç§æ ¼å¼å¯¼å‡º

## ğŸ› ï¸ å®‰è£…å’Œé…ç½®

### ç¯å¢ƒè¦æ±‚
```bash
Python >= 3.10
```

### ä¾èµ–å®‰è£…
```bash
# åŸºç¡€ä¾èµ–
pip install -r requirements_ashare.txt

# é¢å¤–æ•°æ®é‡‡é›†ä¾èµ–
pip install selenium beautifulsoup4 jieba sqlalchemy openpyxl
```

### ç¯å¢ƒå˜é‡é…ç½®
```bash
# Tushareæ•°æ®æºï¼ˆæ¨èï¼‰
export TUSHARE_TOKEN="your_tushare_token_here"

# é˜¿é‡Œäº‘åƒé—®æ¨¡å‹ï¼ˆæ¨èç”¨äºä¸­æ–‡åˆ†æï¼‰
export DASHSCOPE_API_KEY="your_dashscope_api_key_here"

# OpenAIï¼ˆå¤‡é€‰ï¼‰
export OPENAI_API_KEY="your_openai_api_key_here"
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åŸºç¡€ä½¿ç”¨
```python
from tradingagents.agents.enhanced_ashare_data_agent import create_enhanced_ashare_data_agent
from langchain_openai import ChatOpenAI

# åˆå§‹åŒ–æ¨¡å‹å’Œæ•°æ®agent
llm = ChatOpenAI(model="gpt-4o-mini")
data_agent = create_enhanced_ashare_data_agent(llm)

# è·å–ç»¼åˆæ–°é—»
news_report = data_agent.get_comprehensive_stock_news("000001", days_back=7)
print(news_report)
```

### 2. è¿è¡Œæ¼”ç¤ºç¨‹åº
```bash
python demo_enhanced_data_collector.py
```

### 3. é›†æˆåˆ°ç°æœ‰ç³»ç»Ÿ
```python
from tradingagents.ashare_trading_graph import AShareTradingGraph
from tradingagents.ashare_config import get_ashare_config

# è·å–å¢å¼ºé…ç½®
config = get_ashare_config()

# åˆ›å»ºäº¤æ˜“å›¾ï¼ˆè‡ªåŠ¨åŒ…å«æ•°æ®é‡‡é›†åŠŸèƒ½ï¼‰
trading_graph = AShareTradingGraph(config)

# ç°åœ¨å¯ä»¥ä½¿ç”¨å¢å¼ºçš„æ•°æ®é‡‡é›†åŠŸèƒ½
result = trading_graph.analyze_stock("600036")
```

## ğŸ”§ åŠŸèƒ½è¯¦è§£

### ğŸ“° ç»¼åˆæ–°é—»é‡‡é›†
```python
# ä»å¤šä¸ªæ•°æ®æºè·å–è‚¡ç¥¨æ–°é—»
result = data_agent.get_comprehensive_stock_news(
    stock_code="000001",  # è‚¡ç¥¨ä»£ç 
    days_back=7           # å›çœ‹å¤©æ•°
)
```

### ğŸ“‹ å…¬å‘Šæ•°æ®è·å–
```python
# è·å–å®˜æ–¹å…¬å‘Šä¿¡æ¯
result = data_agent.get_stock_announcements(
    stock_code="000001",
    days_back=30
)
```

### ğŸ’¬ äº’åŠ¨é—®ç­”é‡‡é›†
```python
# è·å–æŠ•èµ„è€…äº’åŠ¨æ•°æ®
result = data_agent.get_interactive_qa(
    stock_code="000001",
    days_back=30
)
```

### ğŸ“ˆ å¸‚åœºæƒ…ç»ªåˆ†æ
```python
# åˆ†æå¸‚åœºæƒ…ç»ª
result = data_agent.get_market_sentiment_analysis(
    keyword="é“¶è¡Œ",
    days_back=7
)
```

### ğŸ­ è¡Œä¸šåˆ†æ
```python
# è·å–è¡Œä¸šåˆ†ææŠ¥å‘Š
result = data_agent.get_industry_analysis(
    industry="ç§‘æŠ€",
    days_back=14
)
```

### ğŸ” æ•°æ®æœç´¢
```python
# æœç´¢ç›¸å…³æ•°æ®
result = data_agent.search_stock_data(
    query="å¹³å®‰é“¶è¡Œ",
    data_types="news,announcement,interaction"
)
```

### ğŸ“Š æ•°æ®è´¨é‡æŠ¥å‘Š
```python
# è·å–æ•°æ®è´¨é‡ç»Ÿè®¡
result = data_agent.get_data_quality_report()
```

### ğŸ“¤ æ•°æ®å¯¼å‡º
```python
# å¯¼å‡ºæ•°æ®åˆ°Excel
result = data_agent.export_data_excel("data_export.xlsx")
```

## ğŸ¯ æ ¸å¿ƒæ¶æ„

### æ•°æ®é‡‡é›†Agent
```
DataCollectorAgent
â”œâ”€â”€ ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†
â”œâ”€â”€ å¤šé‡é‡è¯•æœºåˆ¶
â”œâ”€â”€ GitHubçˆ¬è™«é›†æˆ
â””â”€â”€ LLMæ™ºèƒ½å†³ç­–
```

### æ•°æ®å­˜å‚¨ç³»ç»Ÿ
```
DataStorageManager
â”œâ”€â”€ SQLAlchemy ORM
â”œâ”€â”€ æ•°æ®è´¨é‡è¯„ä¼°
â”œâ”€â”€ æ™ºèƒ½å»é‡
â””â”€â”€ å…³é”®è¯æå–
```

### çˆ¬è™«å·¥å‚
```
CrawlerFactory
â”œâ”€â”€ JuchaoInfoCrawler (å·¨æ½®ä¿¡æ¯ç½‘)
â”œâ”€â”€ EnhancedSinaCrawler (æ–°æµªè´¢ç»)
â”œâ”€â”€ EastMoneyCrawler (ä¸œæ–¹è´¢å¯Œ)
â”œâ”€â”€ CNSCrawler (ä¸­å›½è¯åˆ¸ç½‘)
â”œâ”€â”€ SZSEInteractiveCrawler (æ·±äº¤æ‰€äº’åŠ¨æ˜“)
â”œâ”€â”€ YicaiCrawler (ç¬¬ä¸€è´¢ç»)
â””â”€â”€ JiuyanCrawler (éŸ­ç ”å…¬ç¤¾)
```

## ğŸ“Š æ•°æ®è´¨é‡ä½“ç³»

### äº”çº§è´¨é‡è¯„ä¼°
- **ä¼˜ç§€ (Excellent)**: 90-100åˆ†ï¼Œå®Œæ•´å‡†ç¡®çš„é«˜è´¨é‡æ•°æ®
- **è‰¯å¥½ (Good)**: 75-89åˆ†ï¼Œè´¨é‡è¾ƒå¥½ï¼Œå¯ç›´æ¥ä½¿ç”¨
- **ä¸€èˆ¬ (Average)**: 60-74åˆ†ï¼ŒåŸºæœ¬å¯ç”¨ï¼Œå¯èƒ½éœ€è¦æ¸…æ´—
- **è¾ƒå·® (Poor)**: 40-59åˆ†ï¼Œè´¨é‡è¾ƒå·®ï¼Œéœ€è¦è°¨æ…ä½¿ç”¨
- **æ— æ•ˆ (Invalid)**: 0-39åˆ†ï¼Œæ— æ•ˆæ•°æ®ï¼Œè‡ªåŠ¨è¿‡æ»¤

### è´¨é‡è¯„ä¼°ç»´åº¦
- å­—æ®µå®Œæ•´æ€§æ£€æŸ¥
- å†…å®¹è´¨é‡åˆ†æ
- æ—¶é—´åˆç†æ€§éªŒè¯
- åƒåœ¾å†…å®¹è¯†åˆ«
- æ ¼å¼è§„èŒƒæ£€æŸ¥

## ğŸ”„ é‡è¯•æœºåˆ¶

### å¤šå±‚é‡è¯•ç­–ç•¥
1. **å†…ç½®çˆ¬è™«é‡è¯•**: ä½¿ç”¨å†…ç½®çˆ¬è™«é¦–æ¬¡å°è¯•
2. **GitHubçˆ¬è™«å¤‡ç”¨**: è‡ªåŠ¨æœç´¢ç›¸å…³å¼€æºçˆ¬è™«
3. **LLMæ™ºèƒ½åˆ†æ**: åŸºäºé”™è¯¯åˆ†æè°ƒæ•´ç­–ç•¥
4. **æŒ‡æ•°é€€é¿**: é¿å…è¿‡äºé¢‘ç¹çš„è¯·æ±‚
5. **æœ€ç»ˆå…œåº•**: è®°å½•å¤±è´¥ä»»åŠ¡ä¾›åç»­å¤„ç†

### æ™ºèƒ½å†³ç­–
- é”™è¯¯ç±»å‹åˆ†æ
- ç­–ç•¥åŠ¨æ€è°ƒæ•´
- æ•°æ®æºåˆ‡æ¢å»ºè®®
- å‚æ•°ä¼˜åŒ–æ¨è

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å¹¶å‘æ§åˆ¶
- æœ€å¤§å¹¶å‘ä»»åŠ¡æ•°: 5ä¸ª
- è¯·æ±‚é—´éš”æ§åˆ¶: éšæœº1-3ç§’
- è¿æ¥æ± ç®¡ç†: å¤ç”¨HTTPè¿æ¥
- å†…å­˜å ç”¨ç›‘æ§: é˜²æ­¢å†…å­˜æ³„æ¼

### ç¼“å­˜ç­–ç•¥
- æ•°æ®åº“çº§ç¼“å­˜: SQLiteä¼˜åŒ–é…ç½®
- å†…å­˜ç¼“å­˜: çƒ­ç‚¹æ•°æ®å¿«é€Ÿè®¿é—®
- ç£ç›˜ç¼“å­˜: å¤§æ•°æ®ä¸´æ—¶å­˜å‚¨
- è¿‡æœŸæœºåˆ¶: è‡ªåŠ¨æ¸…ç†æ—§æ•°æ®

## ğŸ›¡ï¸ é£é™©æ§åˆ¶

### åçˆ¬æªæ–½åº”å¯¹
- éšæœºUser-Agent
- ä»£ç†IPæ”¯æŒ
- è¯·æ±‚é¢‘ç‡æ§åˆ¶
- é”™è¯¯é‡è¯•é™åˆ¶

### æ•°æ®å®‰å…¨
- æ•æ„Ÿä¿¡æ¯è¿‡æ»¤
- æ•°æ®åŠ å¯†å­˜å‚¨
- è®¿é—®æƒé™æ§åˆ¶
- å®¡è®¡æ—¥å¿—è®°å½•

## ğŸ“‹ é…ç½®è¯´æ˜

### æ•°æ®æºé…ç½®
```python
"data_sources": {
    "juchao_info": {
        "enabled": True,
        "base_url": "http://www.cninfo.com.cn"
    },
    "sina_finance": {
        "enabled": True,
        "base_url": "https://finance.sina.com.cn"
    }
    # ... æ›´å¤šæ•°æ®æº
}
```

### é‡‡é›†é…ç½®
```python
"data_collection": {
    "enabled": True,
    "max_concurrent_tasks": 5,
    "retry_count": 5,
    "timeout": 30,
    "auto_quality_check": True,
    "github_crawler_search": True
}
```

## ğŸ› å¸¸è§é—®é¢˜

### Q: æ•°æ®é‡‡é›†å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
A: ç³»ç»Ÿå…·æœ‰å¼ºå¤§çš„é‡è¯•æœºåˆ¶ï¼Œä¼šè‡ªåŠ¨å°è¯•å¤šç§æ–¹æ³•ã€‚æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒAPIé…ç½®ã€‚

### Q: å¦‚ä½•æé«˜æ•°æ®è´¨é‡ï¼Ÿ
A: é…ç½®Tushareç­‰ä¸“ä¸šæ•°æ®æºï¼Œå¯ç”¨è‡ªåŠ¨è´¨é‡æ£€æŸ¥ï¼Œå®šæœŸæ¸…ç†ä½è´¨é‡æ•°æ®ã€‚

### Q: æ”¯æŒè‡ªå®šä¹‰æ•°æ®æºå—ï¼Ÿ
A: æ”¯æŒï¼Œå¯ä»¥ç»§æ‰¿DataSourceCrawleråŸºç±»å®ç°è‡ªå®šä¹‰çˆ¬è™«ã€‚

### Q: æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ
A: é»˜è®¤å­˜å‚¨åœ¨SQLiteæ•°æ®åº“ä¸­ï¼Œå¯é…ç½®å…¶ä»–æ•°æ®åº“ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç å’Œæ”¹è¿›å»ºè®®ï¼

### æ·»åŠ æ–°æ•°æ®æº
1. ç»§æ‰¿`DataSourceCrawler`åŸºç±»
2. å®ç°`crawl`æ–¹æ³•
3. æ³¨å†Œåˆ°`CrawlerFactory`
4. æ·»åŠ é…ç½®é¡¹

### æ”¹è¿›æ•°æ®è´¨é‡
1. ä¼˜åŒ–éªŒè¯è§„åˆ™
2. å¢å¼ºæ¸…æ´—ç®—æ³•
3. æ”¹è¿›å…³é”®è¯æå–
4. å®Œå–„è´¨é‡è¯„ä¼°

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºåŸTradingAgentsé¡¹ç›®çš„è®¸å¯è¯ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢TauricResearchå›¢é˜Ÿçš„å¼€æºè´¡çŒ®ï¼Œä»¥åŠæ‰€æœ‰æ•°æ®æºæä¾›å•†ã€‚

---

**ğŸ¯ è®©æˆ‘ä»¬ä¸€èµ·å»ºç«‹æœ€å…¨é¢çš„Aè‚¡æ•°æ®åº“ï¼**