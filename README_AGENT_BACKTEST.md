# Agentå›æµ‹åˆ†æç³»ç»Ÿ

## æ¦‚è¿°

æœ¬ç³»ç»Ÿæ—¨åœ¨è§£å†³å½“å‰è‚¡ç¥¨åˆ†æAgentè¯„ä¼°è§’åº¦æ™®é€šåŒ–çš„é—®é¢˜ï¼Œé€šè¿‡åŸºäºtushareçœŸå®æ•°æ®çš„å†å²å›æµ‹ï¼Œå…¨é¢è¯„ä¼°Agentçš„é¢„æµ‹å‡†ç¡®æ€§ã€åˆ›æ–°æ€§å’Œå®ç”¨æ€§ã€‚

## ğŸ¯ æ ¸å¿ƒé—®é¢˜

ç»è¿‡åˆ†æï¼Œå‘ç°ç°æœ‰è‚¡ç¥¨åˆ†æAgentå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š

### 1. è¯„ä¼°è§’åº¦è¿‡äºä¼ ç»Ÿ
- **æŠ€æœ¯æŒ‡æ ‡å•ä¸€**: ä¸»è¦ä¾èµ–MACDã€RSIã€ç§»åŠ¨å¹³å‡çº¿ç­‰ä¼ ç»ŸæŒ‡æ ‡
- **ç¼ºä¹åˆ›æ–°æ€§**: æœªå¼•å…¥å¸‚åœºå¾®è§‚ç»“æ„ã€å¦ç±»æ•°æ®ç­‰æ–°å…´åˆ†æç»´åº¦
- **åˆ†ææ·±åº¦ä¸è¶³**: ç¼ºä¹å¤šæ—¶é—´æ¡†æ¶å’Œå¤šç»´åº¦çš„ç»¼åˆåˆ†æ

### 2. é¢„æµ‹é€»è¾‘ç®€åŒ–
- **ä¿¡å·ç¡®è®¤ä¸è¶³**: å•ä¸€ä¿¡å·å†³ç­–ï¼Œå®¹æ˜“äº§ç”Ÿè¯¯åˆ¤
- **é£é™©æ„è¯†è–„å¼±**: ç¼ºä¹é€‚å½“çš„é£é™©æ§åˆ¶å’Œä»“ä½ç®¡ç†
- **é€‚åº”æ€§å·®**: æ— æ³•æ ¹æ®å¸‚åœºç¯å¢ƒå˜åŒ–è°ƒæ•´ç­–ç•¥

### 3. éªŒè¯æœºåˆ¶ç¼ºå¤±
- **æ— å†å²éªŒè¯**: ç¼ºä¹åŸºäºçœŸå®æ•°æ®çš„å›æµ‹éªŒè¯
- **æ— å­¦ä¹ æœºåˆ¶**: æ— æ³•ä»å†å²é”™è¯¯ä¸­å­¦ä¹ å’Œæ”¹è¿›
- **æ— é‡åŒ–è¯„ä¼°**: ç¼ºä¹å®¢è§‚çš„æ€§èƒ½è¯„ä¼°æ ‡å‡†

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### ç³»ç»Ÿæ¶æ„

```
Agentå›æµ‹åˆ†æç³»ç»Ÿ
â”œâ”€â”€ agent_backtest_framework.py     # æ ¸å¿ƒå›æµ‹æ¡†æ¶
â”œâ”€â”€ enhanced_agent_analysis.py      # å¢å¼ºç‰ˆåˆ†æç³»ç»Ÿ
â”œâ”€â”€ run_agent_backtest.py          # å®Œæ•´å›æµ‹æµç¨‹
â””â”€â”€ README_AGENT_BACKTEST.md       # ä½¿ç”¨è¯´æ˜
```

### æ ¸å¿ƒåŠŸèƒ½

#### 1. å…¨é¢å›æµ‹æ¡†æ¶ (`AgentBacktestFramework`)
- **çœŸå®æ•°æ®**: åŸºäºtushare APIè·å–çœŸå®å†å²æ•°æ®
- **å¤šç»´è¯„ä¼°**: ä»å‡†ç¡®ç‡ã€æ”¶ç›Šç‡ã€é£é™©ç­‰å¤šä¸ªç»´åº¦è¯„ä¼°
- **æ•°æ®åº“å­˜å‚¨**: å®Œæ•´çš„å›æµ‹ç»“æœå­˜å‚¨å’ŒæŸ¥è¯¢

#### 2. å¢å¼ºç‰ˆåˆ†æç³»ç»Ÿ (`EnhancedAgentAnalysis`)
- **åˆ›æ–°æŒ‡æ ‡**: å¼•å…¥å¸‚åœºå¾®è§‚ç»“æ„ã€èµ„é‡‘æµå‘ã€æ³¢åŠ¨ç‡ç­‰é«˜çº§æŒ‡æ ‡
- **æ™ºèƒ½ä¿¡å·**: å¤šä¿¡å·ç¡®è®¤å’ŒåŠ¨æ€æƒé‡è°ƒæ•´
- **åˆ›æ–°è¯„åˆ†**: é‡åŒ–è¯„ä¼°Agentçš„åˆ›æ–°æ€§å’Œå¤æ‚åº¦

#### 3. ç»¼åˆè¯„ä¼°ä½“ç³»
- **æ€§èƒ½æŒ‡æ ‡**: é¢„æµ‹å‡†ç¡®ç‡ã€æ”¶ç›Šç‡ã€å¤æ™®æ¯”ç‡ç­‰
- **åˆ›æ–°å¾—åˆ†**: å¤šæ ·æ€§ã€å¤æ‚æ€§ã€é€‚åº”æ€§ç­‰ç»´åº¦
- **æ”¹è¿›å»ºè®®**: åŸºäºåˆ†æç»“æœæä¾›å…·ä½“æ”¹è¿›æ–¹æ¡ˆ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒé…ç½®

```bash
pip install tushare pandas numpy talib
```

### 2. é…ç½®tushare token

```python
# åœ¨run_agent_backtest.pyä¸­ä¿®æ”¹
config = {
    'tushare_token': 'your_actual_tushare_token_here'
}
```

### 3. è¿è¡Œå›æµ‹

```bash
python run_agent_backtest.py
```

### 4. æŸ¥çœ‹ç»“æœ

è¿è¡Œå®Œæˆåä¼šç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š
- `agent_comprehensive_analysis.md` - ç»¼åˆåˆ†ææŠ¥å‘Š
- `agent_backtest_results.json` - è¯¦ç»†ç»“æœæ•°æ®
- `{agent_type}_backtest_report.md` - å„Agentå•ç‹¬æŠ¥å‘Š

## ğŸ“Š è¯„ä¼°ç»´åº¦

### ä¼ ç»Ÿæ€§èƒ½æŒ‡æ ‡
- **é¢„æµ‹å‡†ç¡®ç‡**: é¢„æµ‹æ–¹å‘çš„æ­£ç¡®ç‡
- **æ”¶ç›Šç‡**: 1æ—¥ã€5æ—¥ã€20æ—¥çš„å¹³å‡æ”¶ç›Š
- **é£é™©æŒ‡æ ‡**: æœ€å¤§å›æ’¤ã€æ³¢åŠ¨ç‡ç­‰

### åˆ›æ–°æ€§æŒ‡æ ‡
- **å¤šæ ·æ€§å¾—åˆ†**: ä½¿ç”¨æŒ‡æ ‡çš„ä¸°å¯Œç¨‹åº¦
- **å¤æ‚æ€§å¾—åˆ†**: åˆ†æé€»è¾‘çš„å¤æ‚ç¨‹åº¦
- **é€‚åº”æ€§å¾—åˆ†**: æ ¹æ®å¸‚åœºå˜åŒ–è°ƒæ•´çš„èƒ½åŠ›
- **æ—¶æœºæŠŠæ¡å¾—åˆ†**: äº¤æ˜“æ—¶æœºé€‰æ‹©çš„åˆç†æ€§
- **é£é™©æ„è¯†å¾—åˆ†**: é£é™©æ§åˆ¶çš„æ„è¯†å’Œèƒ½åŠ›

## ğŸ” å‘ç°çš„é—®é¢˜

### 1. Market Analyst (å¸‚åœºåˆ†æå¸ˆ)
**ä¸»è¦é—®é¢˜**:
- è¿‡åº¦ä¾èµ–ä¼ ç»ŸæŠ€æœ¯æŒ‡æ ‡
- ç¼ºä¹å¸‚åœºå¾®è§‚ç»“æ„åˆ†æ
- ä¿¡å·ç¡®è®¤æœºåˆ¶ä¸è¶³

**æ”¹è¿›å»ºè®®**:
- å¼•å…¥é«˜é¢‘æ•°æ®åˆ†æ
- å¢åŠ è·¨å¸‚åœºå…³è”åˆ†æ
- å®Œå–„å¤šä¿¡å·ç¡®è®¤æœºåˆ¶

### 2. Fundamental Analyst (åŸºæœ¬é¢åˆ†æå¸ˆ)
**ä¸»è¦é—®é¢˜**:
- è´¢åŠ¡æŒ‡æ ‡åˆ†ææ¨¡æ¿åŒ–
- ç¼ºä¹ESGç­‰æ–°å…´æŒ‡æ ‡
- è¡Œä¸šå¯¹æ¯”ä¸å……åˆ†

**æ”¹è¿›å»ºè®®**:
- æ•´åˆå¦ç±»æ•°æ®æº
- åŠ å…¥ESGè¯„åˆ†ä½“ç³»
- å¢å¼ºè¡Œä¸šæ¯”è¾ƒåˆ†æ

### 3. Bull/Bear Researcher (å¤šç©ºç ”ç©¶å‘˜)
**ä¸»è¦é—®é¢˜**:
- ç«‹åœºåè§è¿‡äºæ˜æ˜¾
- ç¼ºä¹å®¢è§‚æ€§è¯„ä¼°
- é£é™©æ„è¯†ä¸è¶³

**æ”¹è¿›å»ºè®®**:
- å¢åŠ åå‘ç¡®è®¤æœºåˆ¶
- å»ºç«‹å®¢è§‚è¯„ä¼°ä½“ç³»
- åŠ å¼ºé£é™©æç¤º

## ğŸ’¡ åˆ›æ–°æ–¹å‘

### 1. æŠ€æœ¯æŒ‡æ ‡åˆ›æ–°
```python
# å¸‚åœºå¾®è§‚ç»“æ„æŒ‡æ ‡
- ä»·æ ¼è·³ç©ºåˆ†æ
- å½±çº¿ç»“æ„åˆ†æ  
- å†…å¤–ç›˜æ¯”ä¾‹
- ä¹°å–å‹åŠ›æŒ‡æ ‡

# èµ„é‡‘æµå‘æŒ‡æ ‡
- æˆäº¤é‡åŠ æƒå¹³å‡ä»·(VWAP)
- èµ„é‡‘æµé‡æŒ‡æ ‡(MFI)
- ä»·é‡è¶‹åŠ¿æŒ‡æ ‡(PVT)
```

### 2. å¤šç»´åº¦åˆ†æ
```python
# è¶‹åŠ¿è´¨é‡è¯„ä¼°
trend_strength = adx > 25 & di_plus > di_minus

# å‡çº¿æ’åˆ—è¯„åˆ†
ma_alignment_score = sum([ma5 > ma10, ma10 > ma20, ma20 > ma60])

# ç»¼åˆä¿¡å·è¯„åˆ†
composite_signal = (
    trend_signal * 0.3 +
    momentum_signal * 0.25 +
    volume_signal * 0.2 +
    volatility_signal * 0.15 +
    microstructure_signal * 0.1
)
```

### 3. åŠ¨æ€æƒé‡è°ƒæ•´
```python
# æ ¹æ®å¸‚åœºç¯å¢ƒè°ƒæ•´æŒ‡æ ‡æƒé‡
if market_volatility > threshold:
    volatility_weight += 0.1
    momentum_weight -= 0.1
```

## ğŸ“ˆ é¢„æœŸæ•ˆæœ

é€šè¿‡å®æ–½å¢å¼ºç‰ˆåˆ†æç³»ç»Ÿï¼Œé¢„æœŸå¯ä»¥å®ç°ï¼š

1. **å‡†ç¡®ç‡æå‡**: ä»å½“å‰çš„40-50%æå‡è‡³60-70%
2. **é£é™©æ§åˆ¶**: æœ€å¤§å›æ’¤é™ä½20-30%
3. **åˆ›æ–°æ€§**: åˆ›æ–°å¾—åˆ†ä»0.3æå‡è‡³0.7ä»¥ä¸Š
4. **é€‚åº”æ€§**: èƒ½å¤Ÿæ ¹æ®å¸‚åœºç¯å¢ƒåŠ¨æ€è°ƒæ•´ç­–ç•¥

## ğŸ› ï¸ è¿›é˜¶ä½¿ç”¨

### è‡ªå®šä¹‰Agentæµ‹è¯•

```python
from agent_backtest_framework import AgentBacktestFramework

# åˆ›å»ºè‡ªå®šä¹‰Agent
def custom_agent_logic(df):
    # å®ç°è‡ªå®šä¹‰åˆ†æé€»è¾‘
    signals = []
    # ... åˆ†æé€»è¾‘
    return signals

# è¿è¡Œå›æµ‹
framework = AgentBacktestFramework(token)
results = framework.test_custom_agent(custom_agent_logic, stocks, dates)
```

### å¢åŠ æ–°çš„è¯„ä¼°æŒ‡æ ‡

```python
from enhanced_agent_analysis import EnhancedAgentAnalysis

# æ‰©å±•åˆ›æ–°è¯„åˆ†ä½“ç³»
def calculate_custom_innovation_score(predictions):
    # å®ç°è‡ªå®šä¹‰åˆ›æ–°è¯„åˆ†é€»è¾‘
    return innovation_score
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ•°æ®æƒé™**: éœ€è¦æœ‰æ•ˆçš„tushare token
2. **è®¡ç®—èµ„æº**: å¤§é‡è‚¡ç¥¨å›æµ‹éœ€è¦å……è¶³çš„è®¡ç®—æ—¶é—´
3. **å‚æ•°è°ƒä¼˜**: å¯æ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´å„ç§é˜ˆå€¼å’Œæƒé‡
4. **ç»“æœè§£é‡Š**: å›æµ‹ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Pull Requestæ¥æ”¹è¿›ç³»ç»Ÿï¼š
- æ–°çš„æŠ€æœ¯æŒ‡æ ‡å®ç°
- æ›´å¥½çš„è¯„ä¼°æ–¹æ³•
- æ€§èƒ½ä¼˜åŒ–
- æ–‡æ¡£æ”¹è¿›

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ªMITè®¸å¯è¯ã€‚